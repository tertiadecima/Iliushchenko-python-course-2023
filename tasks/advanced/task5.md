# Задание 5

Вероятностная модель языка описывает фрагменты текста на некотором языке в
терминах случайных процессов. Одна из самых простых моделей языка формулируется
следующим образом. Предположим, что нам известно множество всех слов в языке.
Будем порождать слова в предложении слева направо одно за другим:
- Случайно выберем первые два слова из множества слов.
- Каждое t-е слово будем порождать при условии известных нам (t-1)-го и
(t-2)-го слов.

Попробуем построить модель языка по лирике известного хип-хоп исполнителя Снуп
Догга.

**a)** Напишите функцию `words`, которая принимает текстовый файл и возвращает
список слов из файла:

```
>>> import io
>>> handle = io.StringIO("""Ignorance is the curse of God;
... knowledge is the wing wherewith we fly to heaven.""")
>>> words(handle)
['Ignorance', 'is', 'the', 'curse', 'of', 'God;\n', 'knowledge', 'is', 'the',
'wing', 'wherewith', 'we', 'fly', 'to', 'heaven.']
```

Обратите внимание на то, что знаки препинания и символы переноса строки на конце
слов остаются без изменений: единственным разделителем слов считается единичный
пробел.

**b)** Напишите функцию `transition_matrix`, которая принимает список слов и возвращает
словарь. В этом словаре для каждой пары слов `(u, v)` содержится список из слов
`w`, которые встречаются во входном списке после последовательности слов `u v`.
В результате могут быть повторяющиеся слова, если какая-то тройка `u v w`
встречается в исходном списке слов несколько раз.

Для примера выше:

```
>>> language = words(handle)
>>> m = transition_matrix(language)
>>> m["is", "the"]
['curse', 'wing']
```

**c)** Напишите функцию `markov_chain`, генерирующую предложения определённой
длины. Функция принимает три аргумента:
- список слов, результат работы функции `words`,
- словарь, построенный с помощью функции `transition_matrix`,
- натуральное число -- количество слов в предложении, которое нужно
сгенерировать.

Напомню, как генерировать случайные предложения. Будем порождать слова в
предложении слева направо одно за другим:

- Случайно выберем первые два слова из всех слов `words`.
- Каждое t-е слово будем порождать случайно при условии известных
нам (t-2)-го и (t-1)-го слов (воспользуемся `transition_matrix`).
- Если такая пара раньше не встречалась (в словаре `transition_matrix` её
нет), то t-е слово берётся случайно из всех слов.

Вам пригодятся функции `choice` и `choices` из модуля `random`, ознакомьтесь
с их документацией самостоятельно.

**d)** Напишите функцию `snoop_says`, которая принимает путь к файлу
`snoopdogg.txt` (файл состоит из сконкатенированных текстов Снуп Догга,
скачанных с сайта [AZLyrics](http://azlyrics.com/s/snoopdogg.html)) и
натуральное число -- длину предложения и возвращает случайное предложение
указанной длины на языке Снуп Догга.
